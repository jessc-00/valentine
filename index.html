<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ğŸ’™</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;overflow:hidden;
  font-family:system-ui,Segoe UI,Arial;
  background:radial-gradient(circle at top,#1cb5e0,#000046);
  color:#fff;display:flex;align-items:center;justify-content:center
}
.card{
  background:rgba(0,0,0,.65);border-radius:20px;padding:22px;width:92%;max-width:420px;
  text-align:center;box-shadow:0 0 30px rgba(0,150,255,.6)
}
h1,h2{margin:.4em 0}
button{border:0;border-radius:999px;padding:12px 18px;margin:8px;font-size:1rem;cursor:pointer}
.primary{background:#00c6ff;color:#002233}
.outline{background:transparent;border:2px solid #00c6ff;color:#00c6ff}
.stage{display:none}
.stage.active{display:block}
.progress{margin:15px auto;width:80%;height:6px;background:rgba(255,255,255,.2);border-radius:20px;overflow:hidden}
.bar{height:100%;width:0;background:linear-gradient(90deg,#6aa6ff,#b6d3ff);transition:width 1s ease}
.hearts span{position:absolute;font-size:22px;animation:floatUp 4s linear infinite}
@keyframes floatUp{0%{transform:translateY(0);opacity:0}20%{opacity:1}100%{transform:translateY(-100vh);opacity:0}}
.tap-heart{position:absolute;font-size:30px;animation:pop .6s ease forwards}
@keyframes pop{0%{transform:scale(.5);opacity:0}100%{transform:scale(1.3);opacity:1}}
.photo{
  width:100%;border-radius:16px;margin:10px 0 6px;
  box-shadow:0 0 25px rgba(80,140,255,.8);
  animation: floatGlow 4s ease-in-out infinite;
}
@keyframes floatGlow{
  0%,100%{transform:translateY(0);box-shadow:0 0 25px rgba(80,140,255,.6)}
  50%{transform:translateY(-10px);box-shadow:0 0 40px rgba(120,180,255,.9)}
}
.btn-row{position:relative;height:70px}
#noBtn{position:absolute;right:20px}
#typeQuestion{opacity:0;transition:.6s ease;text-shadow:0 0 10px rgba(0,198,255,.6)}
.confetti{position:absolute;font-size:18px;animation:fall 2.5s linear forwards}
@keyframes fall{to{transform:translateY(100vh) rotate(360deg);opacity:0}}
.note{
  position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,.8);padding:12px 16px;border-radius:14px;
  box-shadow:0 0 20px rgba(0,150,255,.7);display:none;max-width:90%
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
</audio>
<audio id="sparkleSound" preload="auto">
  <source src="https://www.soundjay.com/misc/sounds/magic-chime-01.mp3" type="audio/mpeg">
</audio>

<div class="card stage active" id="s1">
  <h1>Hey Big Boy ğŸ’™</h1>
  <p>Ready for a tiny adventure?</p>
  <button class="primary" onclick="start()">Tap to Begin ğŸµ</button>
  <div class="progress"><div class="bar" id="bar"></div></div>
</div>

<div class="card stage" id="s2">
  <h1>Warm-up ğŸ’™</h1>
  <p>Tap 10 hearts to continue</p>
  <p><strong><span id="count">0</span>/10</strong></p>
</div>

<div class="card stage" id="s3">
  <h1>Choose your path ğŸ˜</h1>
  <button class="outline" onclick="next(4,30)">Soft route ğŸ’«</button>
  <button class="outline" onclick="next(4,30)">Playful route ğŸ®</button>
</div>

<div class="card stage" id="s4">
  <h1>Slow it downâ€¦</h1>
  <p>Hold your finger on the screen for 3 seconds</p>
  <button class="primary" onmousedown="hold()" ontouchstart="hold()">Hold</button>
  <h3 id="holdText"></h3>
</div>

<div class="card stage" id="s5">
  <h1>Almost there ğŸ’™</h1>
  <p>Swipe or tap to continue</p>
  <button class="primary" onclick="next(6,55)">Continue âœ</button>
</div>

<div class="card stage" id="s6">
  <h1>Kesley Cedeno ğŸ’™</h1>
  <h2 id="typeLine"></h2>
  <p id="typeQuestion">Will you be my Valentine? ğŸ’™</p>
  <div class="btn-row">
    <button class="primary" id="yesBtn">YES ğŸ’™</button>
    <button class="outline" id="noBtn">No ğŸ˜</button>
  </div>
</div>

<div class="card stage" id="s7">
  <img class="photo" src="photo.jpg" alt="Us ğŸ’™"/>
  <h1>Okayâ€¦ one more question ğŸ˜Œ</h1>
  <p>Would you go on a date with me soon?</p>
  <button class="primary" onclick="next(8,85); startWaitNote();">Of course ğŸ’™</button>
</div>

<div class="card stage" id="s8">
  <h1>Last thing ğŸ’™</h1>
  <p>Iâ€™ve got a song for youâ€¦</p>
  <button class="primary" onclick="window.open('https://www.youtube.com/results?search_query=dandelions+ruth+b','_blank')">Tap song ğŸ§</button>
</div>

<div class="hearts" id="hearts"></div>
<div class="note" id="note">Secret note: Iâ€™m really happy itâ€™s you ğŸ’™</div>
<div class="note" id="waitNote">
  If youâ€™re still here, it means more to me than you know â€” and you passed the patience test ğŸ˜Œ  
  This took forever to makeâ€¦ but every hour was worth it for you, my love ğŸ’™
</div>

<script>
const music=document.getElementById("bgMusic");
const sparkle=document.getElementById("sparkleSound");
const stages=[...document.querySelectorAll(".stage")];
const bar=document.getElementById("bar");
const hearts=document.getElementById("hearts");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const countEl=document.getElementById("count");
const note=document.getElementById("note");
const waitNote=document.getElementById("waitNote");
let count=0, egg=0;

function start(){ music.play(); next(2,15); }

document.body.addEventListener("click",(e)=>{
  if(document.getElementById("s2").classList.contains("active")){
    const h=document.createElement("div");
    h.className="tap-heart"; h.textContent="ğŸ’™";
    h.style.left=e.clientX+"px"; h.style.top=e.clientY+"px";
    document.body.appendChild(h); setTimeout(()=>h.remove(),600);
    count++; countEl.textContent=count;
    if(count>=10) next(3,25);
  }
});

function hold(){
  let t=3; const el=document.getElementById("holdText");
  const timer=setInterval(()=>{
    el.textContent="Holdingâ€¦ "+t;
    t--;
    if(t<0){ clearInterval(timer); next(5,40); startType(); }
  },1000);
}

function next(n,p){
  stages.forEach(s=>s.classList.remove("active"));
  document.getElementById("s"+n).classList.add("active");
  bar.style.width=p+"%";
}

noBtn.onmouseover=()=>{ noBtn.style.left=Math.random()*200+"px"; noBtn.style.top=Math.random()*40+"px"; };
yesBtn.onclick=()=>{ confetti(); next(7,70); };

function confetti(){
  for(let i=0;i<60;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.textContent=Math.random()>0.5?"âœ¨":"ğŸ’™";
    c.style.left=Math.random()*100+"vw";
    c.style.top="-10px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2500);
  }
}

function floatHearts(){
  const s=document.createElement("span");
  s.textContent="ğŸ’™"; s.style.left=Math.random()*100+"vw"; s.style.bottom="0";
  hearts.appendChild(s); setTimeout(()=>s.remove(),4000);
}
setInterval(floatHearts,800);

hearts.onclick=()=>{
  egg++;
  if(egg>=5){
    note.style.display="block";
    sparkle.play();
    setTimeout(()=>note.style.display="none",4000);
    egg=0;
  }
};

const lineText="This might be simple, but itâ€™s from my heartâ€¦";
const typeLine=document.getElementById("typeLine");
const typeQuestion=document.getElementById("typeQuestion");
function startType(){
  let j=0; typeLine.textContent=""; typeQuestion.style.opacity=0;
  const t=setInterval(()=>{
    typeLine.textContent+=lineText.charAt(j);
    j++;
    if(j>=lineText.length){ clearInterval(t); typeQuestion.style.opacity=1; }
  },50);
}

// Hidden wait message on final screen (10s) + sparkle sound
let waitTimer=null;
function startWaitNote(){
  clearTimeout(waitTimer);
  waitTimer=setTimeout(()=>{
    waitNote.style.display="block";
    sparkle.play();
    setTimeout(()=>waitNote.style.display="none",5000);
  },10000);
}
</script>
</body>
</html>
