<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ğŸ’™</title>
<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;overflow:hidden;
  font-family:system-ui,Segoe UI,Arial;
  background:radial-gradient(circle at top,#1cb5e0,#000046);
  color:#fff;display:flex;align-items:center;justify-content:center
}
.card{
  background:rgba(0,0,0,.65);border-radius:20px;padding:22px;width:92%;max-width:420px;
  text-align:center;box-shadow:0 0 30px rgba(0,150,255,.6)
}
h1,h2{margin:.4em 0}
button{border:0;border-radius:999px;padding:12px 18px;margin:8px;font-size:1rem;cursor:pointer}
.primary{background:#00c6ff;color:#002233}
.outline{background:transparent;border:2px solid #00c6ff;color:#00c6ff}
.hidden{display:none}
.hearts span{position:absolute;font-size:22px;animation:floatUp 4s linear infinite}
@keyframes floatUp{0%{transform:translateY(0);opacity:0}20%{opacity:1}100%{transform:translateY(-100vh);opacity:0}}
.tap-heart{position:absolute;font-size:30px;animation:pop .6s ease forwards}
@keyframes pop{0%{transform:scale(.5);opacity:0}100%{transform:scale(1.3);opacity:1}}
.photo{
  width:100%;border-radius:16px;margin:10px 0 6px;
  box-shadow:0 0 25px rgba(80,140,255,.8);
  animation: floatGlow 4s ease-in-out infinite;
}
@keyframes floatGlow{
  0%,100%{transform:translateY(0);box-shadow:0 0 25px rgba(80,140,255,.6)}
  50%{transform:translateY(-10px);box-shadow:0 0 40px rgba(120,180,255,.9)}
}
.btn-row{position:relative;height:70px}
#noBtn{position:absolute;right:20px}
#typeQuestion{opacity:0;transition:.6s ease;text-shadow:0 0 10px rgba(0,198,255,.6)}
.stage{display:none}
.stage.active{display:block}
.progress{margin:15px auto;width:80%;height:6px;background:rgba(255,255,255,.2);border-radius:20px;overflow:hidden}
.bar{height:100%;width:0;background:linear-gradient(90deg,#6aa6ff,#b6d3ff);transition:width 1s ease}

/* Confetti */
.confetti{position:absolute;font-size:18px;animation:fall 2.5s linear forwards}
@keyframes fall{to{transform:translateY(100vh) rotate(360deg);opacity:0}}

/* Easter egg note */
.note{
  position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,.8);padding:12px 16px;border-radius:14px;
  box-shadow:0 0 20px rgba(0,150,255,.7);display:none
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
</audio>

<div class="card stage active" id="stage1">
  <h1>Hey Big Boy ğŸ’™</h1>
  <p>Tap to start something specialâ€¦</p>
  <button class="primary" onclick="startFlow()">Tap to Start Music ğŸµ</button>
  <div class="progress"><div class="bar" id="bar"></div></div>
</div>

<div class="card stage" id="stage2">
  <h1>Warm-up ğŸ’™</h1>
  <p>Tap 7 hearts to continue</p>
  <p><strong><span id="count">0</span>/7</strong></p>
  <div class="progress"><div class="bar"></div></div>
</div>

<div class="card stage" id="stage3">
  <h1>Pause with meâ€¦</h1>
  <p>Close your eyes for 5 seconds ğŸ˜Œ</p>
  <button class="primary" onclick="countdown()">Start 5s</button>
  <h3 id="countText"></h3>
  <div class="progress"><div class="bar"></div></div>
</div>

<div class="card stage" id="mainScreen">
  <h1>Kesley Cedeno ğŸ’™</h1>
  <h2 id="typeLine"></h2>
  <p id="typeQuestion">Will you be my Valentine? ğŸ’™</p>
  <div class="btn-row">
    <button class="primary" id="yesBtn">YES ğŸ’™</button>
    <button class="outline" id="noBtn">No ğŸ˜</button>
  </div>
</div>

<div class="card stage" id="finalScreen">
  <img class="photo" src="photo.jpg" alt="Us ğŸ’™"/>
  <h1>Congrats, Big Boy ğŸ˜ğŸ’™</h1>
  <p>I donâ€™t need big words to say thisâ€¦</p>
  <p>I just really like being with you, laughing with you, and sharing moments with you.</p>
  <p>So yeahâ€¦ Iâ€™m choosing you ğŸ«¶</p>
  <button class="primary" onclick="window.open('https://www.youtube.com/results?search_query=dandelions+ruth+b','_blank')">Tap song ğŸ§</button>
</div>

<div class="card stage" id="dateScreen">
  <h1>One more thingâ€¦ ğŸ’™</h1>
  <p>Let me take you out.</p>
  <p>Dinner on me ğŸ½ï¸ + a long walk after?</p>
  <button class="primary" onclick="alert('Itâ€™s a date ğŸ˜ŒğŸ’™')">Deal?</button>
</div>

<div class="hearts" id="hearts"></div>
<div class="note" id="note">Psstâ€¦ you found the secret note ğŸ’™ Iâ€™m really glad itâ€™s you.</div>

<script>
const music=document.getElementById("bgMusic");
const stages=document.querySelectorAll(".stage");
const hearts=document.getElementById("hearts");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const countEl=document.getElementById("count");
const bar=document.getElementById("bar");
const note=document.getElementById("note");

let count=0, eggTaps=0;

function startFlow(){
  music.play();
  goStage(2,25);
}

document.body.addEventListener("click",(e)=>{
  if(document.getElementById("stage2").classList.contains("active")){
    const h=document.createElement("div");
    h.className="tap-heart"; h.textContent="ğŸ’™";
    h.style.left=e.clientX+"px"; h.style.top=e.clientY+"px";
    document.body.appendChild(h); setTimeout(()=>h.remove(),600);
    count++; countEl.textContent=count;
    if(count>=7) goStage(3,50);
  }
});

function countdown(){
  let i=5;
  const t=document.getElementById("countText");
  const timer=setInterval(()=>{
    t.textContent=i+"...";
    i--;
    if(i<0){ clearInterval(timer); goStage(4,75); startType(); }
  },1000);
}

function goStage(n,progress){
  stages.forEach(s=>s.classList.remove("active"));
  stages[n-1].classList.add("active");
  bar.style.width=progress+"%";
}

noBtn.addEventListener("mouseover",()=>{
  noBtn.style.left=Math.random()*200+"px";
  noBtn.style.top=Math.random()*40+"px";
});

yesBtn.onclick=()=>{
  goStage(5,90);
  confettiBurst();
  setTimeout(()=>goStage(6,100), 3500); // date reveal after a moment
};

function confettiBurst(){
  for(let i=0;i<60;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.textContent=Math.random()>0.5?"âœ¨":"ğŸ’™";
    c.style.left=Math.random()*100+"vw";
    c.style.top="-10px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2500);
  }
}

// Easter egg: tap floating hearts 5 times
hearts.addEventListener("click", ()=>{
  eggTaps++;
  if(eggTaps>=5){
    note.style.display="block";
    setTimeout(()=>note.style.display="none", 4000);
    eggTaps=0;
  }
});

function floatHearts(){
  const s=document.createElement("span");
  s.textContent="ğŸ’™"; s.style.left=Math.random()*100+"vw"; s.style.bottom="0";
  hearts.appendChild(s); setTimeout(()=>s.remove(),4000);
}
setInterval(floatHearts,700);

// Typewriter
const lineText="This might be simple, but itâ€™s from my heartâ€¦";
const typeLine=document.getElementById("typeLine");
const typeQuestion=document.getElementById("typeQuestion");
let i=0;
function startType(){
  const t=setInterval(()=>{
    typeLine.textContent+=lineText.charAt(i);
    i++;
    if(i>=lineText.length){ clearInterval(t); typeQuestion.style.opacity=1; }
  },50);
}
</script>
</body>
</html>
